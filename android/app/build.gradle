plugins {
    id "com.android.application"
    // FlutterFire (Google services)
    id "com.google.gms.google-services" version "4.4.2"
    // Kotlin
    id "kotlin-android"
    // Flutter Gradle plugin (lu√¥n ƒë·ª©ng sau Android & Kotlin)
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    namespace = "vn.gbsofit.charger"
    compileSdk = flutter.compileSdkVersion
    ndkVersion = "27.0.12077973"

    compileOptions {
        coreLibraryDesugaringEnabled true
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }
    kotlinOptions {
        jvmTarget = '11'
    }

    defaultConfig {
        applicationId = "vn.gbsofit.charger"
        minSdk = 25
        targetSdk = 35
        versionCode = flutter.versionCode
        versionName = flutter.versionName
    }

    signingConfigs {
        release {
            keyAlias 'key0'
            keyPassword '@@Qdao100897'
            storeFile file('./../../nextenergy.jks')
            storePassword '@@Qdao100897'
        }
    }

    // üö´ T·∫ÆT split ƒë·ªÉ kh√¥ng ‚Äúƒë√°nh r∆°i‚Äù asset v√†o c√°c bi·∫øn th·ªÉ
    bundle {
        abi {
            enableSplit = false
        }
        language {
            enableSplit = false
        }
        density {
            enableSplit = false
        }
    }
    // N·∫øu b·∫°n ƒëang build APK split, c≈©ng t·∫Øt ·ªü ƒë√¢y cho ch·∫Øc:
    splits {
        abi { enable false }
        density { enable false }
        language { enable false }
    }

    buildTypes {
        release {
            // S·ª≠ d·ª•ng signing config release
            signingConfig = signingConfigs.release
            // (gi·ªØ nguy√™n shrinker m·∫∑c ƒë·ªãnh c·ªßa Flutter)
            ndk {
                debugSymbolLevel = 'NONE'
            }
        }
        debug { }
    }
}

flutter {
    source = "../.."
}

dependencies {
    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.1.4'
}
